<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Digitizer</title>
		<link rel="stylesheet" href="static/basics.css">
		<link rel="stylesheet" href='static/autocomplete.css'>
		<link href='static/mapbox-gl.css' rel='stylesheet' />
		<style>
			.entry {
				border: 2px solid #ddd;
				border-radius:5px;
			}

			.entry:hover,
			.rule:hover {
				border: 2px solid steelblue;
			}
			.property:not(:first-child) {
				border-top:1px solid #eee;
			}

			.image {
				width:200px;
				height:300px;
				background-size: cover;
			}

			select {
				padding: 2px;
			    font-size: 1em;
			    border:1px solid #aaa;
			}

			input {
				padding:13px;
				border: none;
				background: none;
				font-size: 1em;
				width: 100%;
				text-align: right;
			}

			input:focus {
				border:1px solid steelblue;
				border-right:none;
				outline:none;
				background:#fafafa;
				padding:12px;
			}
			.rule {
				border: 2px solid #ddd;
				border-radius:5px;				
			}

			.clickable {
				color: steelblue;
				cursor:pointer;
			}

			.half {
				width:50%;
				display: inline-block
			}


		</style>
	</head>
	<body>
		<div class='col6 fullHeight' id='map'></div>
		<div class='col6 fullHeight scroll' id='dataPanel'></div>
	</body>
	<script src='static/mapbox-gl.js'></script>
	<script src='static/digitizer.js'></script>
	<script src='static/autocomplete.js'></script>
	<script src="static/d3.v4.min.js"></script>

	<script>

		var surveyUrl = location.search.replace('?survey=', '') || 'static/sampleSurveyOutput/spans.geojson';

		d3.json(surveyUrl, (e,r)=>{
			if (e) alert('Error importing the survey. Ensure the url is valid, preceded by "?survey=" in the url of this page.')
			app.state.data = r;
			app.init.map();
			app.init.ui();
		})	


	</script>
	<script src='static/turf.min.js'></script>
</html>